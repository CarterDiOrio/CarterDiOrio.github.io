{"version":3,"file":"component---src-templates-project-tsx-content-file-path-src-projects-structure-from-motion-mdx-1d1606d79484081971ff.js","mappings":"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","sources":["webpack://portfolio/./src/projects/structure-from-motion.mdx","webpack://portfolio/./src/templates/project.tsx","webpack://portfolio/./src/components/table-of-contents.tsx","webpack://portfolio/./src/templates/project.module.css","webpack://portfolio/./node_modules/react-responsive-masonry/es/Masonry/index.js","webpack://portfolio/./node_modules/react-responsive-masonry/es/ResponsiveMasonry/index.js","webpack://portfolio/./node_modules/react-responsive-masonry/es/index.js"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nimport {Divider} from 'theme-ui';\nimport Masonry, {ResponsiveMasonry} from \"react-responsive-masonry\";\nimport {Image, Text} from \"theme-ui\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    a: \"a\",\n    span: \"span\",\n    p: \"p\",\n    img: \"img\",\n    ol: \"ol\",\n    li: \"li\",\n    strong: \"strong\",\n    h2: \"h2\",\n    em: \"em\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.h1, {\n    id: \"structure-from-motion\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#structure-from-motion\",\n    \"aria-label\": \"structure from motion permalink\",\n    className: \"anchor before\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"Structure from Motion\"), \"\\n\", React.createElement(\"div\", {\n    style: {\n      maxWidth: \"800px\",\n      margin: \"auto\"\n    }\n  }, React.createElement(\"div\", null, React.createElement(_components.p, null, React.createElement(_components.img, {\n    src: \"/dense.png\",\n    alt: \"Image\"\n  }), \" \")), React.createElement(Text, {\n    variant: \"caption\",\n    style: {}\n  }, \"A section of a dense recovered point cloud from KITTI\")), \"\\n\", React.createElement(_components.p, null, \"For my independent study project, I implemented a Structure from Motion (SfM) pipeline using an RGBD camera. The goal was to\\neventually get a dense 3D reconstruction of the environment. The SfM (or Visual SLAM) pipeline has 2 main parts:\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Odometry Estimation\"), \": The estimation of the camera motion using the RGBD camera.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Loop Closing\"), \": The detection of when the camera revisits a location and the optimization of the map.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"The SfM method I implemented results in a sparse point cloud of map points. To then get a dense point cloud, I use the camera poses\\noutput from SfM and fuse the depth maps from each frame to get a dense point cloud.\"), \"\\n\", React.createElement(\"div\", {\n    style: {\n      maxWidth: \"800px\",\n      margin: \"auto\"\n    }\n  }, React.createElement(\"div\", null, React.createElement(_components.p, null, React.createElement(_components.img, {\n    src: \"/EstimatedPath.png\",\n    alt: \"Image\"\n  }), \" \")), React.createElement(Text, {\n    variant: \"caption\",\n    style: {}\n  }, \"Estimated vs Ground Truth Path on KITTI dataset zero.\")), \"\\n\", React.createElement(Divider), \"\\n\", React.createElement(_components.h2, {\n    id: \"odometry-tracking-estimation\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#odometry-tracking-estimation\",\n    \"aria-label\": \"odometry tracking estimation permalink\",\n    className: \"anchor before\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"Odometry (Tracking) Estimation\"), \"\\n\", React.createElement(_components.p, null, \"The step in Structure from Motion is the estimation of the camera motion as part of the\\n\", React.createElement(_components.em, null, \"Tracking\"), \" or \", React.createElement(_components.em, null, \"Frontend\"), \" step. Motion is estimated in a 7 step process:\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, \"Identify ORB features in the current frame.\"), \"\\n\", React.createElement(_components.li, null, \"Match the ORB features with the previous frame.\"), \"\\n\", React.createElement(_components.li, null, \"Estimate motion using PnP + RANSAC. Eliminate the outlier matches that are not consistent with the motion.\"), \"\\n\", React.createElement(_components.li, null, \"Add new map points from the current frame.\"), \"\\n\", React.createElement(_components.li, null, \"Project map points in the local area to the current frame.\"), \"\\n\", React.createElement(_components.li, null, \"Match the projected local map points with still unmatched features/map points in the current frame.\"), \"\\n\", React.createElement(_components.li, null, \"Refine the motion estimate using the new matches.\"), \"\\n\"), \"\\n\", React.createElement(\"div\", {\n    style: {\n      maxWidth: \"800px\",\n      margin: \"auto\"\n    }\n  }, React.createElement(_components.p, null, React.createElement(_components.img, {\n    src: \"/Tracking.png\",\n    alt: \"Image\"\n  }), \" \", \"\\n\", React.createElement(Text, {\n    variant: \"caption\",\n    style: {}\n  }, \"A diagram of the tracking process\"))), \"\\n\", React.createElement(_components.p, null, \"This tracking process provides us with an odometry estimate of the camera motion akin to using encoders.\\nConsequently, this means it drifts over time, as illustrated by a complete run on the KITTI dataset zero below.\"), \"\\n\", React.createElement(\"div\", {\n    style: {\n      maxWidth: \"800px\",\n      margin: \"auto\"\n    }\n  }, React.createElement(_components.p, null, React.createElement(_components.img, {\n    src: \"/Odometry.png\",\n    alt: \"Image\"\n  }), \" \")), \"\\n\", React.createElement(_components.h2, {\n    id: \"loop-closing\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#loop-closing\",\n    \"aria-label\": \"loop closing permalink\",\n    className: \"anchor before\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"Loop Closing\"), \"\\n\", React.createElement(_components.p, null, \"To rectify this drift and enhance the precision of the position estimate, we can implement Loop Closing, a component of the Backend in SLAM.\\nLoop Closing involves detecting when the camera revisits a previously visited location.\"), \"\\n\", React.createElement(\"div\", {\n    style: {\n      maxWidth: \"800px\",\n      margin: \"auto\"\n    }\n  }, React.createElement(_components.p, null, React.createElement(_components.img, {\n    src: \"/LoopClosing.png\",\n    alt: \"Image\"\n  }), \" \")), \"\\n\", React.createElement(_components.p, null, \"Before we can loop close and optimize the map, we need to detect when the camera revisits a location. I built a place recognition module\\non top of a \", React.createElement(_components.strong, null, \"Visual Vocabulary\"), \" and \", React.createElement(_components.strong, null, \"Bag of Words\"), \" database (the DBoW2 library) that allows me to quickly query the database for similar images.\\nFrom the query we get several similar images, to identify loops is then a 3 step process:\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, \"Remove any images that were seen recently. For example the previous frame will have a high similarity score.\"), \"\\n\", React.createElement(_components.li, null, \"For the camera to have looped, the same place must be consistently registered over multiple frames. This is the consistency validation.\"), \"\\n\", React.createElement(_components.li, null, \"For any consistent matches, we then must perform geometric verification. Match features between the current frame and the match, then robustly\\nesimate motion with RANSAC, and if there are enough inliers we have identified a loop.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"After we have identified a loop, the loop is closed by fusing the duplciated map points and features in the current frame with the looped frame. This creates\\nand edge in the graph. The graph is then optimized using Pose Graph Optimization. I used the ceres solver to optimize the graph. This process results\\nin drift being corrected as shown in the before and after images below.\"), \"\\n\", React.createElement(ResponsiveMasonry, {\n    columnsCountBreakPoints: {\n      500: 1,\n      900: 2\n    },\n    style: {\n      maxWidth: \"1200px\",\n      margin: \"auto\"\n    }\n  }, React.createElement(Masonry, {\n    gutter: \"8px\"\n  }, React.createElement(\"div\", null, React.createElement(_components.p, null, React.createElement(_components.img, {\n    src: \"/BeforeLoopClosure.png\",\n    alt: \"Image\"\n  }), \" \")), React.createElement(\"div\", null, React.createElement(_components.p, null, React.createElement(_components.img, {\n    src: \"/AfterLoopClosure.png\",\n    alt: \"Image\"\n  }), \" \")))));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"/home/cdiorio/portfolio/CarterDiOrio.github.io/src/projects/structure-from-motion.mdx\";\nimport * as React from \"react\";\nimport Layout from \"../components/layout\";\nimport {MDXProvider} from \"@mdx-js/react\";\nimport * as projectStyles from \"./project.module.css\";\nimport TableOfContents from \"../components/table-of-contents\";\nimport {Card} from \"theme-ui\";\nimport {jsx as _jsx} from \"theme-ui/jsx-runtime\";\nimport {jsxs as _jsxs} from \"theme-ui/jsx-runtime\";\nconst ProjectPost = _ref => {\n  let {data, children} = _ref;\n  return _jsxs(Layout, {\n    children: [!data.mdx.frontmatter.underconstruction && _jsxs(\"div\", {\n      className: projectStyles.projectLayout,\n      children: [_jsx(\"div\", {\n        sx: {\n          paddingRight: \"16px\"\n        },\n        children: _jsxs(Card, {\n          className: projectStyles.tableOfContents,\n          variant: \"tableOfContents\",\n          children: [_jsxs(\"p\", {\n            children: [\"Github: \", _jsx(\"a\", {\n              href: data.mdx.frontmatter.github,\n              sx: {\n                color: \"primary\"\n              },\n              children: \"Repository\"\n            }), \" \"]\n          }), _jsx(TableOfContents, {\n            items: data.mdx.tableOfContents.items\n          })]\n        })\n      }), _jsx(\"div\", {\n        children: _jsx(MDXProvider, {\n          children: children\n        })\n      })]\n    }), data.mdx.frontmatter.underconstruction && _jsx(\"div\", {\n      children: _jsx(\"h2\", {\n        children: \"Under Construction. Please check back later for updates\"\n      })\n    })]\n  });\n};\nconst query = \"871196069\";\nexport const Head = _ref2 => {\n  let {data} = _ref2;\n  return _jsx(\"title\", {\n    children: data.mdx.frontmatter.title\n  });\n};\nProjectPost\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(ProjectPost, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\n","import { get } from \"http\";\nimport * as React from \"react\";\nimport { NavLink } from \"theme-ui\";\n\ninterface useIntersectionObserverProps { \n    ids: string[];\n}\n\nconst useIntersectionObserver = ({ ids }: useIntersectionObserverProps) => {\n    const [activeId, setActiveId] = React.useState(``);\n    \n    React.useEffect(() => {\n        const callback: IntersectionObserverCallback = (entires) => {\n            entires.forEach((entry) => {\n                if (entry.isIntersecting) {\n                    const id = entry.target.getAttribute('id');\n                    setActiveId(id!);\n                }\n            })\n        };\n\n        //find each element by id\n        const elements = ids.map((id) => document.getElementById(id));\n        \n        //create an observer\n        const observer = new IntersectionObserver(callback, {\n            rootMargin: `0% 0% -80% 0%`\n        });\n\n        //observe each element\n        elements.forEach((element) => observer.observe(element!));\n\n        return () => observer.disconnect();\n    }, []);\n\n    return activeId;\n}\n\nconst getIds = (items: any) => {\n    return items.reduce((acc: any, item: any) => {\n        if (item.url) {\n            acc.push(item.url.slice(1));\n        }\n        if (item.items) {\n            acc.push(...getIds(item.items));\n        }\n        return acc;\n    }, []);\n} \n\nconst TocItem = ({ items, activeId, depth }: any) => {\n    console.log(items);\n    const padding = depth == 0 ? \"16px\" : \"16px\";\n    return (\n        <ul style={{\"listStyleType\": \"none\", \"paddingLeft\": padding}}>\n            {\n                items.map((item: any) => {\n                    const variant = item.url === `#${activeId}` ? \"tableOfContentsActive\" : \"tableOfContents\";\n                    return <li key={item.url}>\n                        <NavLink href={item.url} variant={`${variant}`}>\n                            {item.title}\n                        </NavLink>\n                        {item.items && \n                            <TocItem items={item.items} activeId={activeId} depth={depth+1} />\n                        }\n                    </li>                    \n                })\n            }\n        </ul>\n    )\n}\n\nconst TableOfContents = ({ items }: any) => {\n    const ids = getIds(items);\n    const activeId = useIntersectionObserver({ ids });\n    return (\n        <>\n            <h2>Contents</h2>\n            <TocItem items={items[0].items} activeId={activeId} depth={0} />\n        </>\n    )\n};\n\nexport default TableOfContents;","// extracted by mini-css-extract-plugin\nexport var projectLayout = \"project-module--projectLayout--0a8d9\";\nexport var tableOfContents = \"project-module--tableOfContents--da931\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nvar Masonry = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Masonry, _React$Component);\n\n  function Masonry() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Masonry.prototype;\n\n  _proto.getColumns = function getColumns() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        columnsCount = _this$props.columnsCount;\n    var columns = Array.from({\n      length: columnsCount\n    }, function () {\n      return [];\n    });\n    React.Children.forEach(children, function (child, index) {\n      if (child && React.isValidElement(child)) {\n        columns[index % columnsCount].push(child);\n      }\n    });\n    return columns;\n  };\n\n  _proto.renderColumns = function renderColumns() {\n    var gutter = this.props.gutter;\n    return this.getColumns().map(function (column, i) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: i,\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"flex-start\",\n          alignContent: \"stretch\",\n          flex: 1,\n          width: 0,\n          gap: gutter\n        }\n      }, column.map(function (item) {\n        return item;\n      }));\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        gutter = _this$props2.gutter,\n        className = _this$props2.className,\n        style = _this$props2.style;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: _extends({\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"center\",\n        alignContent: \"stretch\",\n        boxSizing: \"border-box\",\n        width: \"100%\",\n        gap: gutter\n      }, style),\n      className: className\n    }, this.renderColumns());\n  };\n\n  return Masonry;\n}(React.Component);\n\nMasonry.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  columnsCount: PropTypes.number,\n  gutter: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.object\n} : {};\nMasonry.defaultProps = {\n  columnsCount: 3,\n  gutter: \"0\",\n  className: null,\n  style: {}\n};\nexport default Masonry;","import PropTypes from \"prop-types\";\nimport React, { useCallback, useLayoutEffect, useEffect, useMemo, useState } from \"react\";\nvar DEFAULT_COLUMNS_COUNT = 1;\nvar useIsomorphicLayoutEffect = typeof window !== \"undefined\" ? useLayoutEffect : useEffect;\n\nvar useHasMounted = function useHasMounted() {\n  var _useState = useState(false),\n      hasMounted = _useState[0],\n      setHasMounted = _useState[1];\n\n  useIsomorphicLayoutEffect(function () {\n    setHasMounted(true);\n  }, []);\n  return hasMounted;\n};\n\nvar useWindowWidth = function useWindowWidth() {\n  var hasMounted = useHasMounted();\n\n  var _useState2 = useState(0),\n      width = _useState2[0],\n      setWidth = _useState2[1];\n\n  var handleResize = useCallback(function () {\n    if (!hasMounted) return;\n    setWidth(window.innerWidth);\n  }, [hasMounted]);\n  useIsomorphicLayoutEffect(function () {\n    if (hasMounted) {\n      window.addEventListener(\"resize\", handleResize);\n      handleResize();\n      return function () {\n        return window.removeEventListener(\"resize\", handleResize);\n      };\n    }\n  }, [hasMounted, handleResize]);\n  return width;\n};\n\nvar MasonryResponsive = function MasonryResponsive(_ref) {\n  var _ref$columnsCountBrea = _ref.columnsCountBreakPoints,\n      columnsCountBreakPoints = _ref$columnsCountBrea === void 0 ? {\n    350: 1,\n    750: 2,\n    900: 3\n  } : _ref$columnsCountBrea,\n      children = _ref.children,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? null : _ref$className,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? null : _ref$style;\n  var windowWidth = useWindowWidth();\n  var columnsCount = useMemo(function () {\n    var breakPoints = Object.keys(columnsCountBreakPoints).sort(function (a, b) {\n      return a - b;\n    });\n    var count = breakPoints.length > 0 ? columnsCountBreakPoints[breakPoints[0]] : DEFAULT_COLUMNS_COUNT;\n    breakPoints.forEach(function (breakPoint) {\n      if (breakPoint < windowWidth) {\n        count = columnsCountBreakPoints[breakPoint];\n      }\n    });\n    return count;\n  }, [windowWidth, columnsCountBreakPoints]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    style: style\n  }, React.Children.map(children, function (child, index) {\n    return React.cloneElement(child, {\n      key: index,\n      columnsCount: columnsCount\n    });\n  }));\n};\n\nMasonryResponsive.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  columnsCountBreakPoints: PropTypes.object,\n  className: PropTypes.string,\n  style: PropTypes.object\n} : {};\nexport default MasonryResponsive;","import Masonry from \"./Masonry\";\nimport ResponsiveMasonry from \"./ResponsiveMasonry\";\nexport default Masonry;\nexport { ResponsiveMasonry };"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","span","p","img","ol","li","strong","h2","em","_provideComponents","components","React","id","style","position","href","className","dangerouslySetInnerHTML","__html","maxWidth","margin","src","alt","Text","variant","Divider","ResponsiveMasonry","columnsCountBreakPoints","Masonry","gutter","wrapper","MDXLayout","ProjectPost","_ref","data","children","_jsxs","Layout","mdx","frontmatter","underconstruction","projectStyles","_jsx","sx","paddingRight","Card","github","color","TableOfContents","items","tableOfContents","MDXProvider","Head","_ref2","title","GatsbyMDXWrapper","GATSBY_COMPILED_MDX","getIds","reduce","acc","item","url","push","slice","TocItem","activeId","depth","console","log","map","NavLink","_ref3","ids","setActiveId","elements","document","getElementById","observer","IntersectionObserver","entires","forEach","entry","isIntersecting","target","getAttribute","rootMargin","element","observe","disconnect","useIntersectionObserver","projectLayout","_extends","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_setPrototypeOf","o","setPrototypeOf","__proto__","_React$Component","subClass","superClass","create","constructor","_proto","getColumns","_this$props","columnsCount","columns","Array","from","child","index","renderColumns","column","display","flexDirection","justifyContent","alignContent","flex","width","gap","render","_this$props2","boxSizing","propTypes","defaultProps","useIsomorphicLayoutEffect","window","useLayoutEffect","useEffect","useWindowWidth","hasMounted","_useState","useState","setHasMounted","useHasMounted","_useState2","setWidth","handleResize","useCallback","innerWidth","addEventListener","removeEventListener","MasonryResponsive","_ref$columnsCountBrea","_ref$className","_ref$style","windowWidth","useMemo","breakPoints","keys","sort","b","count","breakPoint"],"sourceRoot":""}